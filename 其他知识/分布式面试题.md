# CAP理论

- **数据一致性（consistency）：**在分布式系统完成某写操作后，任何读操作都应该获取到该写操作写入的那个最新的数据；若果写入失败，那么所有的读操作都不应该读取到这个数据。相当于要求分布式系统中的各节点时时刻刻保持数据的一致性。
- **服务可用性（acailability）：**所有读写请求在一定的时间内都应该得到响应，可以终止，不会一直等待。
- **分区容错性（partition-tolrtance）：**指的分布式系统中的某个节点或者网络分区出现了故障的时候，整个系统仍然能对外提供满足一致性和可用性的服务。也就是说部分故障不影响整体使用。

在分布式架构中，如果选择CA而放弃P，那么，当发生分区现象时，为了保证C，系统需要禁止写入[^当有写入请求是时，系统报错error]，这就和A冲突了，因为A要求返回 no error 或 no timeout。因此，C和A不能同时出现。分布式系统在理论上不能选择CA架构，但P是分布式架构中必须要有的，所以只能选择CP或者AP架构。
